!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/common/http")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs","@angular/common/http"],t):t((e.ng=e.ng||{},e.ng.abpModule=e.ng.abpModule||{}),e.ng.core,e.rxjs,e._angular_common_http)}(this,function(e,t,r,o){"use strict";var n=function(){function e(){}return Object.defineProperty(e.prototype,"userId",{get:function(){return abp.session.userId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tenantId",{get:function(){return abp.session.tenantId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"impersonatorUserId",{get:function(){return abp.session.impersonatorUserId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"impersonatorTenantId",{get:function(){return abp.session.impersonatorTenantId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiTenancySide",{get:function(){return abp.session.multiTenancySide},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Injectable}],e}(),a=function(){function e(){}return e.prototype.isGranted=function(e){return abp.auth.isGranted(e)},e.decorators=[{type:t.Injectable}],e}(),i=function(){function e(){}return e.prototype.get=function(e){return abp.features.get(e)},e.prototype.getValue=function(e){return abp.features.getValue(e)},e.prototype.isEnabled=function(e){return abp.features.isEnabled(e)},e.decorators=[{type:t.Injectable}],e}(),u=function(){function e(){}return Object.defineProperty(e.prototype,"languages",{get:function(){return abp.localization.languages},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentLanguage",{get:function(){return abp.localization.currentLanguage},enumerable:!0,configurable:!0}),e.prototype.localize=function(e,t){return abp.localization.localize(e,t)},e.prototype.getSource=function(e){return abp.localization.getSource(e)},e.decorators=[{type:t.Injectable}],e}(),s=function(){function e(){}return e.prototype.get=function(e){return abp.setting.get(e)},e.prototype.getBoolean=function(e){return abp.setting.getBoolean(e)},e.prototype.getInt=function(e){return abp.setting.getInt(e)},e.decorators=[{type:t.Injectable}],e}(),p=function(){function e(){}return e.prototype.info=function(e,t,r){abp.notify.info(e,t,r)},e.prototype.success=function(e,t,r){abp.notify.success(e,t,r)},e.prototype.warn=function(e,t,r){abp.notify.warn(e,t,r)},e.prototype.error=function(e,t,r){abp.notify.error(e,t,r)},e.decorators=[{type:t.Injectable}],e}(),c=function(){function e(){}return e.prototype.info=function(e,t,r){return abp.message.info(e,t,r)},e.prototype.success=function(e,t,r){return abp.message.success(e,t,r)},e.prototype.warn=function(e,t,r){return abp.message.warn(e,t,r)},e.prototype.error=function(e,t,r){return abp.message.error(e,t,r)},e.prototype.confirm=function(e,t,r,o){return"string"==typeof t?abp.message.confirm(e,t,r,o):abp.message.confirm(e,void 0,t,o)},e.decorators=[{type:t.Injectable}],e}(),l=function(){function e(){}return e.prototype.debug=function(e){abp.log.debug(e)},e.prototype.info=function(e){abp.log.info(e)},e.prototype.warn=function(e){abp.log.warn(e)},e.prototype.error=function(e){abp.log.error(e)},e.prototype.fatal=function(e){abp.log.fatal(e)},e.decorators=[{type:t.Injectable}],e}(),f=function(){function e(){}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return abp.multiTenancy.isEnabled},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Injectable}],e}(),d=function(){function e(){}return e.prototype.getToken=function(){return abp.auth.getToken()},e.prototype.getTokenCookieName=function(){return abp.auth.tokenCookieName},e.prototype.clearToken=function(){abp.auth.clearToken()},e.prototype.setToken=function(e,t){abp.auth.setToken(e,t)},e.decorators=[{type:t.Injectable}],e}(),b=function(){function e(){}return e.prototype.getCookieValue=function(e){return abp.utils.getCookieValue(e)},e.prototype.setCookieValue=function(e,t,r,o){abp.utils.setCookieValue(e,t,r,o)},e.prototype.deleteCookie=function(e,t){abp.utils.deleteCookie(e,t)},e.decorators=[{type:t.Injectable}],e}(),g=function(){function e(e,t){this._messageService=e,this._logService=t,this.defaultError={message:"An error has occurred!",details:"Error details were not sent by server."},this.defaultError401={message:"You are not authenticated!",details:"You should be authenticated (sign in) in order to perform this operation."},this.defaultError403={message:"You are not authorized!",details:"You are not allowed to perform this operation."},this.defaultError404={message:"Resource not found!",details:"The resource requested could not be found on the server."}}return e.prototype.logError=function(e){this._logService.error(e)},e.prototype.showError=function(e){return e.details?this._messageService.error(e.details,e.message||this.defaultError.message):this._messageService.error(e.message||this.defaultError.message)},e.prototype.handleTargetUrl=function(e){location.href=e||"/"},e.prototype.handleUnAuthorizedRequest=function(e,t){var r=this,o=this;e?e.done(function(){r.handleTargetUrl(t||"/")}):o.handleTargetUrl(t||"/")},e.prototype.handleNonAbpErrorResponse=function(e){var t=this;switch(e.status){case 401:t.handleUnAuthorizedRequest(t.showError(t.defaultError401),"/");break;case 403:t.showError(t.defaultError403);break;case 404:t.showError(t.defaultError404);break;default:t.showError(t.defaultError)}},e.prototype.handleAbpResponse=function(e,t){var r;return t.success?(r=e.clone({body:t.result}),t.targetUrl&&this.handleTargetUrl(t.targetUrl)):(r=e.clone({body:t.result}),t.error||(t.error=this.defaultError),this.logError(t.error),this.showError(t.error),401===e.status&&this.handleUnAuthorizedRequest(null,t.targetUrl)),r},e.prototype.getAbpAjaxResponseOrNull=function(e){if(!e||!e.headers)return null;var t=e.headers.get("Content-Type");if(!t)return this._logService.warn("Content-Type is not sent!"),null;if(t.indexOf("application/json")<0)return this._logService.warn("Content-Type is not application/json: "+t),null;var r=JSON.parse(JSON.stringify(e.body));return r.__abp?r:null},e.prototype.handleResponse=function(e){var t=this.getAbpAjaxResponseOrNull(e);return null==t?e:this.handleAbpResponse(e,t)},e.prototype.blobToText=function(e){return new r.Observable(function(t){if(e){var r=new FileReader;r.onload=function(){t.next(this.result),t.complete()},r.readAsText(e)}else t.next(""),t.complete()})},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:c},{type:l}]},e}(),y=function(){function e(e){this._http=e}return e.prototype.initialize=function(){this._http.get("/AbpUserConfiguration/GetAll").subscribe(function(e){jQuery.extend(!0,abp,JSON.parse(JSON.stringify(e)))})},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:o.HttpClient}]},e}(),h=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[],providers:[n,a,i,u,s,p,c,l,f,y,g,d,b]}]}],e}();e.AbpModule=h,e.AbpUserConfigurationService=y,Object.defineProperty(e,"__esModule",{value:!0})});